<section id="{sectionId}">
  <h1>Our leaders</h1>
  {#each leaders as leader}
  <PlayingCard size="large" doubleSided="{true}">
    <div class="accent"></div>
    <p class="type {leader.type}">{leader.type}</p>
    <div class="image-container">
      <div class="image-border">
        <img src="{leader.image}" alt="{leader.name} profile picture" />
      </div>
    </div>
    <h2>{leader.name}</h2>
    <p class="description">{leader.description}</p>
  </PlayingCard>
  {/each}
</section>

<style>
  .accent {
    position: absolute;
    transform: translateX(-6rem) rotate(45deg);
    transform-origin: bottom right;
    background: linear-gradient(70deg, #89a5ff, #374164);
    width: 25rem;
    height: 15rem;
  }

  .type {
    position: absolute;
    right: 0;
    top: 2rem;
    width: 100%;
    text-align: right !important;
    padding: 0 2rem;
    transform: rotate(45deg);
    transform-origin: bottom right;
    text-align: center;
    color: var(--primary-bg-1);
    font-weight: 800;
  }

  .type.Exec {
    background: var(--primary);
  }

  .type.Lead {
    background: var(--primary-gold);
  }

  .image-container {
    padding-top: 3rem;
    padding-bottom: 2rem;
    width: 100%;
  }
  .image-border {
    margin: auto;
    width: 9rem;
    height: 9rem;
    transform: rotate(45deg);
    border-radius: 0.2rem;
    box-shadow: 0 0 0 0.2rem white, 0 0 0 0.5rem var(--primary-bg-2);
    overflow: hidden;
    /**fix border radius issue in safari*/
    opacity: 0.99;
  }

  img {
    width: 100%;
    transform: rotate(-45deg) scale(1.4);
    border-radius: inherit;
  }

  section {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
    width: 100vw;
    max-width: 80rem;
    margin-bottom: 0;
  }
  .header-container {
    width: 100%;
    display: flex;
    justify-content: center;
    margin: 4rem;
  }

  .description {
    color: var(--primary-grey-5);
    text-align: center;
    font-family: P22-underground;
  }
</style>

<script>
  import PlayingCard from '../components/PlayingCard.html'
  import { animationTriggers } from '../stores'
  import { onMount } from 'svelte'

  const applyNbsp = text => text.split(' ').join('\u00a0')
  const leaders = [
    {
      name: 'Mary Xu',
      description: 'Club overlord and design extraordinaire',
      image: '/images/Mary-profile.jpg',
      type: 'Exec',
    },
    {
      name: 'Jacob Allen',
      description: 'Vice president / Vice principal',
      image: '/images/Jacob-profile.jpg',
      type: 'Exec',
    },
    {
      name: 'Maxwell Forsyth',
      description: 'Secretary / Email communications wizard',
      image: '/images/Maxwell-profile.jpg',
      type: 'Exec',
    },
    {
      name: 'Rishov Sarkar',
      description: 'Treasurer that handles those clams',
      image: '/images/Rishov-profile.jpg',
      type: 'Exec',
    },
    {
      name: 'Alexa Flesch',
      description: `Vengeful co-lead of design ${applyNbsp(
        'a e s t h e t i c'
      )}`,
      image: '/images/Alexa-profile.jpg',
      type: 'Lead',
    },
    {
      name: 'Nicholas Wong',
      description: 'Meniacal co-lead of design and game rules',
      image: '/images/Nick-profile.jpg',
      type: 'Lead',
    },
    {
      name: 'Rocio Soto',
      description: 'Lone wolf queen of marketing',
      image: '/images/Rocio-profile.jpg',
      type: 'Lead',
    },
    {
      name: 'Vishal Shah',
      description: 'Grand conductor of production',
      image: '',
      type: 'Lead',
    },
    {
      name: 'Ben Holmes',
      description: 'Whimsical website developer âœ¨',
      image: '/images/BenH-profile.jpg',
      type: 'Lead',
    },
  ]

  onMount(() => {
    animationTriggers.set({
      ...$animationTriggers,
      '.doubleSidedCard': false,
      ['#' + sectionId]: false,
    })
  })

  export let sectionId
</script>
